{% extends "base.html" %}
{% block content %}
<div class="container-fluid">
  <h3><i class="fas fa-edit"></i> Edit Siswa</h3>
  <div class="card"><div class="card-body">
    <form method="POST" enctype="multipart/form-data">
      <div class="form-group"><label>Nama</label><input name="nama" class="form-control" value="{{ siswa.nama }}" required></div>
      <div class="form-group"><label>Kelas</label><select name="kelas" class="form-control" required>
          <option value="X" {% if siswa.kelas=='X' %}selected{% endif %}>X</option>
          <option value="XI" {% if siswa.kelas=='XI' %}selected{% endif %}>XI</option>
          <option value="XII" {% if siswa.kelas=='XII' %}selected{% endif %}>XII</option>
      </select></div>
      <div class="form-group"><label>Jurusan</label><select name="jurusan" class="form-control" required>
          <option value="NKPI" {% if siswa.jurusan=='NKPI' %}selected{% endif %}>NKPI</option>
          <option value="TKJ" {% if siswa.jurusan=='TKJ' %}selected{% endif %}>TKJ</option>
          <option value="AT" {% if siswa.jurusan=='AT' %}selected{% endif %}>AT</option>
      </select></div>
      <div class="form-group"><label>Alamat</label><textarea name="alamat" class="form-control" rows="3">{{ siswa.alamat }}</textarea></div>

      <div class="form-group">
        <label>Foto saat ini</label><br>
        {% if siswa.foto %}
          <img src="{{ url_for('static', filename='uploads_siswa/' ~ siswa.foto) }}" style="width:120px;height:120px;object-fit:cover;border-radius:6px;">
        {% else %}
          <img src="{{ url_for('static', filename='noimage.png') }}" style="width:120px;height:120px;object-fit:cover;border-radius:6px;">
        {% endif %}
      </div>
      <div class="form-group"><label>Ganti Foto (opsional)</label><input type="file" name="foto" class="form-control" accept="image/*"></div>

      <button class="btn btn-success"><i class="fas fa-save"></i> Update</button>
      <a href="{{ url_for('siswa_index') }}" class="btn btn-secondary">Kembali</a>
    </form>
  </div></div>
</div>
{% endblock %}
